#include "graphics.h"

#include <string>
#include <vector>

std::string quitScreenText =
    "+--------------------------------------------------------+\n"
    "|     This game was made by Andrey Tishkin ^_^           |\n"
    "|        My github: https://github.com/andrei1112111     |\n"
    "|                                                        |\n"
    "|     Hope you enjoyed my golf game :3                   |\n"
    "+--------------------------------------------------------+\n";

std::string startScreenText =
    "+-------------------------------------------------------------------------------------------------------------------+\n"
    "|                                          Welcome to ASCII Golf Game!                                              |\n"
    "|                                                                                                                   |\n"
    "|                                                                                                                   |\n"
    "|                                                                                                                   |\n"
    "|Take a swing at victory! Line up your shot, adjust the angle and power, and go for it!                             |\n"
    "|Goal: Hit the ball into the hole!                                                                                  |\n"
    "|                                                                                                                   |\n"
    "|Press s to play...                                                                                                 |\n"
    "|                                                                                                                   |\n"
    "+-------------------------------------------------------------------------------------------------------------------+\n";

std::string replaceFirst(const std::string &str, const std::string &from, const std::string &to)
{
    std::string result = str;
    size_t pos = result.find(from);
    if (pos != std::string::npos)
    {
        result.replace(pos, from.length(), to);
    }
    return result;
}

std::string putBorder(std::string text)
{
    // split by strings
    std::vector<std::string> lines;
    size_t start = 0;
    size_t end = text.find('\n');
    while (end != std::string::npos)
    {
        lines.push_back(text.substr(start, end - start));
        start = end + 1;
        end = text.find('\n', start);
    }
    lines.push_back(text.substr(start));

    // asseblme
    std::string result;
    result += "|" + std::string(SCREEN_WIDTH - 2, ' ') + " |\n";
    ;
    for (const auto &line : lines)
    {
        result += "|" + line + "|\n";
    }
    result += "+" + std::string(SCREEN_WIDTH - 2, '-') + "-+\n";

    return result;
}

std::string putFlag(std::string frame, int GOLF_FIELD_FLAG_X)
{
    const char fl[5] = {'<', '<', '1', '8'};
    for (int i = 0; i < 5; i++)
    {
        frame[SCREEN_WIDTH * (SCREEN_HEIGHT - GOLF_FLAG_HEIGHT) + GOLF_FIELD_FLAG_OFFSET_H + GOLF_FIELD_FLAG_X - (4 - i)] = fl[i];
    }

    for (int i = 0; i < GOLF_FLAG_HEIGHT; i++)
    {
        frame[SCREEN_WIDTH * (SCREEN_HEIGHT - (1 + i)) + GOLF_FIELD_FLAG_OFFSET_H + GOLF_FIELD_FLAG_X] = '|';
    }
    frame[SCREEN_WIDTH * (SCREEN_HEIGHT - 1) + GOLF_FIELD_FLAG_OFFSET_H + GOLF_FIELD_FLAG_X] = ' ';

    return frame;
}

int getFrameCords(const int x, const int y)
{
    return (SCREEN_HEIGHT - y) * SCREEN_WIDTH + x;
}

void quitScreen()
{
    clearConsole();
    std::cout << quitScreenText << std::endl;
}

void startScreen()
{
    clearConsole();
    std::cout << startScreenText << std::endl;
}

std::vector<std::string> frames = {
    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "         O                                                                                                         \n"
    "        /|\\o                                                                                                       \n"
    "       | |                                                                                                         \n"
    "      ,|/|                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "         __O                                                                                                       \n"
    "        / /\\o                                                                                                      \n"
    "      ,/ |                                                                                                         \n"
    "         |                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "         __O                                                                                                       \n"
    "         \\ \\                                                                                                       \n"
    "         / o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "       __O                                                                                                         \n"
    "      / /\\                                                                                                         \n"
    "    ,/  |\\                                                                                                         \n"
    "        |/ o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "         O                                                                                                         \n"
    "         |\\                                                                                                        \n"
    "        /\\|                                                                                                        \n"
    "       / ||o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "        O                                                                                                          \n"
    "        |\\                                                                                                         \n"
    "        |\\|                                                                                                        \n"
    "       / ||o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "        O                                                                                                          \n"
    "        />                                                                                                         \n"
    "       //\\                                                                                                         \n"
    "     ,// / o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "        O                                                                                                          \n"
    "   ,___/|                                                                                                          \n"
    "        /\\                                                                                                         \n"
    "       / / o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "   `\\                                                                                                              \n"
    "     \\                                                                                                             \n"
    "      <<O                                                                                                          \n"
    "        |                                                                                                          \n"
    "        |\\                                                                                                         \n"
    "       / | o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "         /`                                                                                                        \n"
    "        /                                                                                                          \n"
    "      <<O                                                                                                          \n"
    "        \\                                                                                                          \n"
    "        /\\                                                                                                         \n"
    "       / / o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "   `\\                                                                                                              \n"
    "     \\                                                                                                             \n"
    "      <<O                                                                                                          \n"
    "        |                                                                                                          \n"
    "        |\\                                                                                                         \n"
    "       / | o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "        O                                                                                                          \n"
    "   ,___/|                                                                                                          \n"
    "        /\\                                                                                                         \n"
    "       / / o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "        O                                                                                                          \n"
    "        |\\                                                                                                         \n"
    "        |\\|                                                                                                        \n"
    "       / ||o                                                                                                       \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "          `/                                                                                                       \n"
    "       O__/                                                                                                        \n"
    "        \\-`                                                                                                        \n"
    "        /\\                                                                                                         \n"
    "       / /                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "      '\\                                                                                                           \n"
    "        \\                                                                                                          \n"
    "       O>>                                                                                                         \n"
    "        \\                                                                                                          \n"
    "        /\\                                                                                                         \n"
    "       / /                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "          `/                                                                                                       \n"
    "          /                                                                                                        \n"
    "       \\O/                                                                                                         \n"
    "        |                                                                                                          \n"
    "        /\\                                                                                                         \n"
    "       / |                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "          `/                                                                                                       \n"
    "          /                                                                                                        \n"
    "      __O/                                                                                                         \n"
    "        |                                                                                                          \n"
    "       /\\                                                                                                          \n"
    "       | \\                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "           `/                                                                                                      \n"
    "        O__/                                                                                                       \n"
    "       /|                                                                                                          \n"
    "        /\\                                                                                                         \n"
    "       / /                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "       \\O                                                                                                          \n"
    "        |\\                                                                                                         \n"
    "        /\\\\                                                                                                        \n"
    "       / | \\,                                                                                                      \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "        O                                                                                                          \n"
    "       /|\\                                                                                                         \n"
    "        |\\\\                                                                                                        \n"
    "       / | \\,                                                                                                      \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "   miss :(                                                                                                         \n"
    "                                                                                                                   \n"
    "       \\O                                                                                                          \n"
    "        |\\                                                                                                         \n"
    "        /\\\\                                                                                                        \n"
    "       / | \\,                                                                                                      \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "   miss :(                                                                                                         \n"
    "                                                                                                                   \n"
    "        O                                                                                                          \n"
    "       /|\\                                                                                                         \n"
    "        |\\\\                                                                                                        \n"
    "       / | \\,                                                                                                      \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "   miss :(                                                                                                         \n"
    "                                                                                                                   \n"
    "        O                                                                                                          \n"
    "       /|\\                                                                                                         \n"
    "      / |\\                                                                                                         \n"
    "     /,/ |                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ",

    "                                                                                                                   \n"
    "                                                                                                                   \n"
    "         O                                                                                                         \n"
    "        /|\\o                                                                                                       \n"
    "       | |                                                                                                         \n"
    "      ,|/|                                                                                                         \n"
    " golf^^^^^^`^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ "};
